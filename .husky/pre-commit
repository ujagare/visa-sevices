#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ White Wings Visa - Pre-commit checks starting..."
echo "=================================================="

# Check if critical files exist
echo "ğŸ“ Checking critical files..."
if [ ! -f "index.html" ]; then
    echo "âŒ Error: index.html not found!"
    exit 1
fi

if [ ! -f "contact.html" ]; then
    echo "âŒ Error: contact.html not found!"
    exit 1
fi

if [ ! -f "robots.txt" ]; then
    echo "âŒ Error: robots.txt not found!"
    exit 1
fi

if [ ! -f "sitemap.xml" ]; then
    echo "âŒ Error: sitemap.xml not found!"
    exit 1
fi

echo "âœ… All critical files present"

# Run validation
echo "ğŸ” Running validation checks..."
npm run validate

# Run linting
echo "ğŸ§¹ Running code quality checks..."
npm run lint

# Run tests
echo "ğŸ§ª Running tests..."
npm run test

echo "=================================================="
echo "âœ… All pre-commit checks passed!"
echo "ğŸš€ Ready to commit to White Wings Visa repository"
echo "=================================================="
